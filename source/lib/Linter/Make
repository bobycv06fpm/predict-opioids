import os
from glob import glob

Import("*")

r_linted = env.Command(target="#output/logs/all_linted.Rlint",
                       source="lint_r_scripts.R",
                       action="Rscript $SOURCE {} {}".format(Dir("#source/").abspath, Dir("#output/logs/").abspath))
R_files = [R_file for obj in os.walk(Dir("#source").abspath) for R_file in glob(os.path.join(obj[0], "*.R"))]
env.Depends(r_linted, R_files)
